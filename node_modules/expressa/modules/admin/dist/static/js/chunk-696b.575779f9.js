(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-696b"],{"3FMA":function(t,e,n){"use strict";var i=n("ID0Q");n.n(i).a},GZHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container"},[n("div",{staticClass:"error-message"},[t._v("\n      "+t._s(t.error)+"\n    ")]),t._v(" "),t.ready?[t.ready?n("JSONEditor",{attrs:{schema:t.schema},model:{value:t.data,callback:function(e){t.data=e},expression:"data"}}):t._e(),t._v(" "),n("div",[n("button",{staticClass:"btn btn-primary",on:{click:t.save}},[t._v("\n          Save\n        ")]),t._v(" "),n("button",{staticClass:"btn btn-danger",on:{click:t.del}},[t._v("\n          Delete\n        ")])])]:t._e()],2)])},a=[]},ID0Q:function(t,e,n){},KJ4A:function(t,e,n){"use strict";var i=n("d9An");n.n(i).a},O0nT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=n("0fIc"),r=(i=a)&&i.__esModule?i:{default:i};n("drU8"),e.default={props:{value:{type:Object,default:function(){}},schema:{type:Object,default:function(){}}},data:function(){return{editor:null,error:!1,json:this.value,internalChange:!1}},watch:{},mounted:function(){this.update()},methods:{update:function(){var t=this,e={schema:this.schema,startval:this.value,theme:"bootstrap4",iconlib:"materialicons",required_by_default:!0};this.editor&&this.editor.destroy(),this.editor=new r.default(this.$el.querySelector(".jsoneditor-vue"),e);var n=!0;this.editor.on("change",(function(){n?n=!1:t.$emit("input",t.editor.getValue())}))},onSave:function(){this.$emit("json-save",this.json)}}},r.default&&(r.default.defaults.resolvers.unshift((function(t){if("object"===t.type&&"schema"===t.format)return"schema"})),r.default.defaults.editors.schema=r.default.AbstractEditor.extend({setValue:function(t,e){this.value=t,this.schemaeditor.setValue(t),this.onChange()},getValue:function(){return void 0!==this.schemaeditor?this.schemaeditor.getValue():{}},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){return 12},build:function(){var t=this;this.options.compact||(this.label=this.header=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.compact&&(this.container.className+=" compact"),this.input=document.createElement("div"),this.control=this.theme.getFormControl(this.label,this.input,this.description),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.container.appendChild(this.control),this.schemaeditor=new window.JSONSchemaEditor(this.input,{startval:{}}),this.schemaeditor.on("change",(function(){t.onChange(!0)}))},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()}}))},TYEE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=c(n("14Xm")),r=c(n("D3Ub")),s=c(n("t3Un")),o=c(n("fKSE")),u=c(n("Q2AE"));function c(t){return t&&t.__esModule?t:{default:t}}e.default={name:"CollectionTable",components:{JSONEditor:o.default},props:{collectionName:{type:String,default:""},id:{type:String,default:""}},data:function(){return{data:{},collectionName:"",id:"",error:"",options:{mode:"text"},schema:{},ready:!1}},watch:{"$route.path":{handler:"update"}},mounted:(i=(0,r.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.update();case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)}),methods:{update:function(){var t=this;return(0,r.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ready=!1,t.$route.params.collectionName&&(t.collectionName=t.$route.params.collectionName),t.$route.params.id&&(t.id=t.$route.params.id),e.prev=3,"create"===t.id){e.next=10;break}return e.next=7,(0,s.default)({url:"/"+t.collectionName+"/"+t.id});case 7:t.data=e.sent.data,e.next=11;break;case 10:t.data={};case 11:return e.next=13,(0,s.default)({url:"/"+t.collectionName+"/schema"});case 13:t.schema=e.sent.data,t.ready=!0,e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),t.error=e.t0.error||e.t0;case 20:case"end":return e.stop()}}),e,t,[[3,17]])})))()},save:function(){var t=this;return(0,r.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==t.id){e.next=5;break}return e.next=3,(0,s.default)({method:"post",url:"/"+t.collectionName,data:t.data});case 3:e.next=7;break;case 5:return e.next=7,(0,s.default)({method:"put",url:"/"+t.collectionName+"/"+t.id,data:t.data});case 7:if("collection"!==t.collectionName){e.next=12;break}return e.next=10,(0,s.default)({url:"/status/"});case 10:t.statusInfo=e.sent.data,u.default.dispatch("StatusInfo",t.statusInfo);case 12:"users"===t.collectionName?t.$router.push("/users/list"):"settings"===t.collectionName?t.$router.push("/home"):t.$router.push("/list/"+t.collectionName+"/");case 13:case"end":return e.stop()}}),e,t)})))()},del:function(){var t=this;return(0,r.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.default)({method:"delete",url:"/"+t.collectionName+"/"+t.id});case 2:t.$router.push("/list/"+t.collectionName+"/");case 3:case"end":return e.stop()}}),e,t)})))()}}}},XZgb:function(t,e,n){"use strict";n.r(e);var i=n("O0nT"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e.default=a.a},ZoMo:function(t,e,n){"use strict";n.r(e);var i=n("GZHj"),a=n("tPw9");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("KJ4A");var s=n("KHd+"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="EditDocument.vue",e.default=o.exports},d9An:function(t,e,n){},fKSE:function(t,e,n){"use strict";n.r(e);var i=n("wVe9"),a=n("XZgb");for(var r in a)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);n("3FMA");var s=n("KHd+"),o=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);o.options.__file="JSONEditor.vue",e.default=o.exports},tPw9:function(t,e,n){"use strict";n.r(e);var i=n("TYEE"),a=n.n(i);for(var r in i)["default"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(r);e.default=a.a},wVe9:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this.$createElement;this._self._c;return this._m(0)},a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"jsoneditor-vue"})])}]}}]);