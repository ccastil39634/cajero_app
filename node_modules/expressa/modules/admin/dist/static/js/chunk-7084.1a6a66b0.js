(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7084","chunk-b1e8"],{"/Jrh":function(t,e,n){},EEGE:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.count>t.pageSize?n("el-pagination",{attrs:{"page-size":t.pageSize,total:t.count,"current-page":t.page,layout:"prev, pager, next"},on:{"update:currentPage":function(e){t.page=e},"current-change":function(e){t.update()}}}):t._e(),t._v(" "),n("el-table",{attrs:{data:t.data,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},t._l(t.listedProperties,(function(e,o){return n("el-table-column",{key:e,attrs:{label:e,align:"center"},scopedSlots:t._u([{key:"default",fn:function(r){return[0===o&&"requestlog"!==t.collectionName?n("router-link",{attrs:{to:"/edit/"+t.collectionName+"/"+r.row._id}},[t._v("\n          "+t._s(t.getPath(r.row,e))+"\n        ")]):t._e(),t._v(" "),0===o&&"requestlog"===t.collectionName?n("router-link",{attrs:{to:"/dev/viewrequest/"+r.row._id}},[t._v("\n          "+t._s(t.getPath(r.row,e))+"\n        ")]):t._e(),t._v(" "),0!==o?n("span",[t._v(t._s(t.getPath(r.row,e)))]):t._e()]}}])})}))),t._v(" "),t.count>t.pageSize&&t.showPaginateOnBottom?n("el-pagination",{attrs:{"page-size":t.pageSize,total:t.count,"current-page":t.page,layout:"prev, pager, next"},on:{"update:currentPage":function(e){t.page=e},"current-change":function(e){t.update()}}}):t._e(),t._v(" "),t.showAddButton?n("router-link",{attrs:{to:"/edit/"+t.collectionName+"/create"}},[n("button",{staticClass:"btn btn-primary"},[t._v("\n      Add\n    ")])]):t._e(),t._v(" "),n("button",{staticClass:"btn btn-secondary download-button",on:{click:function(e){t.downloadCSV()}}},[t._v("\n    Download All\n  ")])],1)},r=[]},GQeE:function(t,e,n){t.exports={default:n("iq4v"),__esModule:!0}},Iab2:function(t,e,n){(function(n){var o,r,a;r=[],void 0===(a="function"==typeof(o=function(){"use strict";function e(t,e,n){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){u(o.response,e,n)},o.onerror=function(){console.error("could not download file")},o.send()}function o(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(t,n,i){var u=a.URL||a.webkitURL,s=document.createElement("a");n=n||t.name||"download",s.download=n,s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?r(s):o(s.href)?e(t,n,i):r(s,s.target="_blank")):(s.href=u.createObjectURL(t),setTimeout((function(){u.revokeObjectURL(s.href)}),4e4),setTimeout((function(){r(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,a){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,a),n);else if(o(t))e(t,n,a);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout((function(){r(i)}))}}:function(t,n,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,o);var u="application/octet-stream"===t.type,s=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||u&&s||i)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=c?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(t)}else{var f=a.URL||a.webkitURL,d=f.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){f.revokeObjectURL(d)}),4e4)}});a.saveAs=u.saveAs=u,t.exports=u})?o.apply(e,r):o)||(t.exports=a)}).call(this,n("yLpj"))},Mqbl:function(t,e,n){var o=n("JB68"),r=n("w6GO");n("zn7N")("keys",(function(){return function(t){return r(o(t))}}))},RDq2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=c(n("14Xm")),r=c(n("D3Ub")),a=c(n("QbLZ")),i=n("L2JU"),u=c(n("t3Un")),s=c(n("VqTb"));function c(t){return t&&t.__esModule?t:{default:t}}e.default={name:"Dashboard",components:{ListDocuments2:s.default},data:function(){return{statusInfo:{listeners:{}}}},computed:(0,a.default)({},(0,i.mapGetters)(["email","roles"])),mounted:function(){this.update()},methods:{update:function(){var t=this;return(0,r.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.default)({url:"/status/"});case 2:t.statusInfo=e.sent.data;case 3:case"end":return e.stop()}}),e,t)})))()}}}},VqTb:function(t,e,n){"use strict";n.r(e);var o=n("EEGE"),r=n("sw1Y");for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("alPm");var i=n("KHd+"),u=Object(i.a)(r.default,o.a,o.b,!1,null,"4b9ea8f1",null);u.options.__file="ListDocuments2.vue",e.default=u.exports},WT1d:function(t,e,n){"use strict";n.r(e);var o=n("RDq2"),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e.default=r.a},ZRF6:function(t,e,n){"use strict";n.r(e);var o=n("nLlY"),r=n("WT1d");for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("lCuM");var i=n("KHd+"),u=Object(i.a)(r.default,o.a,o.b,!1,null,"2566f483",null);u.options.__file="home.vue",e.default=u.exports},alPm:function(t,e,n){"use strict";var o=n("rC4C");n.n(o).a},boci:function(t,e,n){var o,r,a;!function(n,i){"use strict";"object"==typeof t.exports?t.exports=i():(r=[],void 0===(a="function"==typeof(o=i)?o.apply(e,r):o)||(t.exports=a))}(0,(function(){"use strict";var t=Object.prototype.toString;function e(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function n(t){if(!t)return!0;if(r(t)&&0===t.length)return!0;if("string"!=typeof t){for(var n in t)if(e(t,n))return!1;return!0}return!1}function o(e){return t.call(e)}var r=Array.isArray||function(e){return"[object Array]"===t.call(e)};function a(t){var e=parseInt(t);return e.toString()===t?e:t}function i(t){var i,u=function(t){return Object.keys(u).reduce((function(e,n){return"create"===n||"function"==typeof u[n]&&(e[n]=u[n].bind(u,t)),e}),{})};function s(t,e){if(i(t,e))return t[e]}function c(e,n,o,r){if("number"==typeof n&&(n=[n]),!n||0===n.length)return e;if("string"==typeof n)return c(e,n.split(".").map(a),o,r);var i=n[0],u=s(e,i);if(t.includeInheritedProps&&("__proto__"===i||"constructor"===i&&"function"==typeof u))throw new Error("For security reasons, object's magic properties cannot be set");return 1===n.length?(void 0!==u&&r||(e[i]=o),u):(void 0===u&&("number"==typeof n[1]?e[i]=[]:e[i]={}),c(e[i],n.slice(1),o,r))}return i=(t=t||{}).includeInheritedProps?function(){return!0}:function(t,n){return"number"==typeof n&&Array.isArray(t)||e(t,n)},u.has=function(n,o){if("number"==typeof o?o=[o]:"string"==typeof o&&(o=o.split(".")),!o||0===o.length)return!!n;for(var i=0;i<o.length;i++){var u=a(o[i]);if(!("number"==typeof u&&r(n)&&u<n.length||(t.includeInheritedProps?u in Object(n):e(n,u))))return!1;n=n[u]}return!0},u.ensureExists=function(t,e,n){return c(t,e,n,!0)},u.set=function(t,e,n,o){return c(t,e,n,o)},u.insert=function(t,e,n,o){var a=u.get(t,e);o=~~o,r(a)||(a=[],u.set(t,e,a)),a.splice(o,0,n)},u.empty=function(t,e){var a,s;if(!n(e)&&(null!=t&&(a=u.get(t,e)))){if("string"==typeof a)return u.set(t,e,"");if(function(t){return"boolean"==typeof t||"[object Boolean]"===o(t)}(a))return u.set(t,e,!1);if("number"==typeof a)return u.set(t,e,0);if(r(a))a.length=0;else{if(!function(t){return"object"==typeof t&&"[object Object]"===o(t)}(a))return u.set(t,e,null);for(s in a)i(a,s)&&delete a[s]}}},u.push=function(t,e){var n=u.get(t,e);r(n)||(n=[],u.set(t,e,n)),n.push.apply(n,Array.prototype.slice.call(arguments,2))},u.coalesce=function(t,e,n){for(var o,r=0,a=e.length;r<a;r++)if(void 0!==(o=u.get(t,e[r])))return o;return n},u.get=function(t,e,n){if("number"==typeof e&&(e=[e]),!e||0===e.length)return t;if(null==t)return n;if("string"==typeof e)return u.get(t,e.split("."),n);var o=a(e[0]),r=s(t,o);return void 0===r?n:1===e.length?r:u.get(t[o],e.slice(1),n)},u.del=function(t,e){if("number"==typeof e&&(e=[e]),null==t)return t;if(n(e))return t;if("string"==typeof e)return u.del(t,e.split("."));var o=a(e[0]);return i(t,o)?1!==e.length?u.del(t[o],e.slice(1)):(r(t)?t.splice(o,1):delete t[o],t):t},u}var u=i();return u.create=i,u.withInheritedProps=i({includeInheritedProps:!0}),u}))},iq4v:function(t,e,n){n("Mqbl"),t.exports=n("WEpk").Object.keys},lCuM:function(t,e,n){"use strict";var o=n("/Jrh");n.n(o).a},nLlY:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard-container"},[n("div",{staticClass:"dashboard-text"},[t._v("\n    Welcome: "+t._s(t.email)+"\n  ")]),t._v(" "),n("div",{staticClass:"dashboard-text"},[t._v("\n    roles: "),t._l(t.roles,(function(e){return n("span",{key:e},[t._v(t._s(e))])}))],2),t._v(" "),n("div",{staticClass:"dashboard-text"},[t._v("\n    listeners: "+t._s(t.statusInfo.listeners.length)+" active\n  ")]),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"dashboard-text"},[t._v("\n    uptime: "+t._s(t.statusInfo.uptime)+"\n  ")]),t._v(" "),n("div",{staticClass:"dashboard-text"},[t._v("\n    Node.js version: "+t._s(t.statusInfo.nodeVersion)+"\n  ")]),t._v(" "),n("div",{staticClass:"dashboard-text"},[t._v("\n    environment: "+t._s(t.statusInfo.env)+"\n    "),n("router-link",{attrs:{id:"settings-link",to:"/edit/settings/"+t.statusInfo.env}},[t._v("\n      (edit settings)\n    ")])],1),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("h3",[t._v("Recent API Requests")]),t._v(" "),n("ListDocuments2",{attrs:{"show-paginate-on-bottom":!1,"show-add-button":!1,filter:{limit:5,query:{method:{$ne:"OPTIONS"}}},columns:["method","url","user","res.statusCode"],"collection-name":"requestlog"}})],1)},r=[]},rC4C:function(t,e,n){},sw1Y:function(t,e,n){"use strict";n.r(e);var o=n("vRIL"),r=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e.default=r.a},vRIL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=l(n("14Xm")),r=l(n("GQeE")),a=l(n("QbLZ")),i=l(n("D3Ub")),u=l(n("t3Un")),s=l(n("Iab2")),c=l(n("boci"));function l(t){return t&&t.__esModule?t:{default:t}}e.default={name:"ListDocuments",props:{collectionName:{type:String,default:"collection"},filter:{type:Object,default:function(){}},columns:{type:Array,default:function(){}},showAddButton:{type:Boolean,default:!0},showPaginateOnBottom:{type:Boolean,default:!0}},data:function(){return{start:0,page:1,pageSize:25,count:0,data:[],schema:{},listedProperties:[]}},watch:{collectionName:{handler:"update"}},mounted:function(){this.update()},methods:{getPath:function(t,e,n){var o=String.prototype.split.call(e,/[,[\].]+?/).filter(Boolean).reduce((function(t,e){return null!=t?t[e]:t}),t);return void 0===o||o===t?n:o},update:function(){var t=this;return(0,i.default)(o.default.mark((function e(){var n,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$route.params.collectionName&&(t.collectionName=t.$route.params.collectionName),n=(0,a.default)({page:t.page,limit:t.pageSize,orderby:'{"meta.created":-1}'},t.filter),e.next=4,(0,u.default)({url:"/"+t.collectionName+"/",params:n});case 4:if(i=e.sent.data,t.count=i.itemsTotal,t.data=i.data,t.collection&&t.collection._id===t.collectionName){e.next=12;break}return e.next=10,(0,u.default)({url:"/collection/"+t.collectionName});case 10:t.collection=e.sent.data,t.schema=t.collection.schema;case 12:t.listedProperties=t.columns||t.collection.admin&&t.collection.admin.columns||(0,r.default)(t.schema.properties);case 13:case"end":return e.stop()}}),e,t)})))()},downloadCSV:function(){var t=this,e=this.collectionName,n=this.listedProperties.map((function(t){return'"'+t+'"'})).join(",")+"\n";if(this.data){n+=this.data.map((function(e){return t.listedProperties.map((function(t){return'"'+String(c.default.get(e,t)||"").replace(/"/g,'""')+'"'}))})).join("\n"),console.log(n);var o=new Blob([n],{type:"text/plain;charset=utf-8"});(0,s.default)(o,e+".csv")}}}}},zn7N:function(t,e,n){var o=n("Y7ZC"),r=n("WEpk"),a=n("KUxP");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],i={};i[t]=e(n),o(o.S+o.F*a((function(){n(1)})),"Object",i)}}}]);